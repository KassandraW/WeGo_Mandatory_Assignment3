syntax = "proto3";
option go_package = "ChitChatServer/grpc/proto";

// run the proto file with : 
// protoc --go_out=. --go_opt=paths=source_relative --go-grpc_out=. --go-grpc_opt=paths=source_relative proto.proto

message Chat_msg {
    string text = 1;
    string sender = 2;
}

message Timestamp { //Placeholder message, we are probably gonna replace it with some lamport clock
    int32 timestamp = 1; 
}

message Empty {}

//Maintain rpc calls between server and client. 
service ChitChat { 
    rpc GetServerStream(Timestamp) returns (stream Chat_msg);
    rpc PostMessage(Chat_msg) returns (Empty);
}